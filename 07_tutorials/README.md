# Docker & Kubernetes å®Ÿè·µãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€Docker ã¨ Kubernetes (minikube) ã‚’å®Ÿéš›ã«å‹•ã‹ã—ãªãŒã‚‰å­¦ã¶ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

---

## ğŸ“š ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ä¸€è¦§

### 1. [Docker åŸºç¤ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](./01_docker_basics.md)
**å¯¾è±¡**: Dockerã‚’åˆã‚ã¦ä½¿ã†äºº
**æ‰€è¦æ™‚é–“**: ç´„30åˆ†

#### å­¦ã¹ã‚‹ã“ã¨
- Dockerã®åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰
- ã‚³ãƒ³ãƒ†ãƒŠã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼ˆä½œæˆâ†’èµ·å‹•â†’åœæ­¢â†’å‰Šé™¤ï¼‰
- Dockerfileã®æ›¸ãæ–¹
- ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆ
- ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### å®Ÿæ–½å†…å®¹
1. Hello World ã‚³ãƒ³ãƒ†ãƒŠã‚’å‹•ã‹ã™
2. ç°¡å˜ãªWebã‚¢ãƒ—ãƒªã‚’ã‚³ãƒ³ãƒ†ãƒŠåŒ–
3. FastAPIã‚¢ãƒ—ãƒªã‚’DockeråŒ–
4. ãƒ­ã‚°ã®ç¢ºèªã¨ãƒ‡ãƒãƒƒã‚°
5. ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

---

### 2. [minikube & Kubernetes ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](./02_minikube_kubernetes.md)
**å¯¾è±¡**: Kubernetesã‚’åˆã‚ã¦ä½¿ã†äºº
**æ‰€è¦æ™‚é–“**: ç´„40åˆ†

#### å­¦ã¹ã‚‹ã“ã¨
- minikubeã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- Kubernetesã®åŸºæœ¬ãƒªã‚½ãƒ¼ã‚¹ï¼ˆPod, Deployment, Serviceï¼‰
- ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸ãæ–¹
- kubectl ã‚³ãƒãƒ³ãƒ‰ã®ä½¿ã„æ–¹
- ãƒ‡ãƒ—ãƒ­ã‚¤ã¨ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°

#### å®Ÿæ–½å†…å®¹
1. minikubeèµ·å‹•ã¨ç¢ºèª
2. æœ€åˆã®Podã‚’ãƒ‡ãƒ—ãƒ­ã‚¤
3. Deploymentã§ãƒ¬ãƒ—ãƒªã‚«ã‚’ç®¡ç†
4. Serviceã§å…¬é–‹
5. ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ/ã‚¤ãƒ³
6. ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
7. ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

---

### 3. [Model-in-Image Pattern ãƒãƒ³ã‚ºã‚ªãƒ³](./03_model_in_image_hands_on.md) â­
**å¯¾è±¡**: æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’Kubernetesã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã„äºº
**æ‰€è¦æ™‚é–“**: ç´„50åˆ†

#### å­¦ã¹ã‚‹ã“ã¨
- å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ã‚’Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã«çµ„ã¿è¾¼ã‚€
- FastAPIã§ãƒ¢ãƒ‡ãƒ«ã‚’ã‚µãƒ¼ãƒ“ã‚¹åŒ–
- Kubernetesã§æœ¬ç•ªç’°å¢ƒã‚’æ§‹ç¯‰
- ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã¨ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- å®Ÿéš›ã®APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å©ã

#### å®Ÿæ–½å†…å®¹
1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®ç†è§£
2. Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰
3. ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ
4. minikubeã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ­ãƒ¼ãƒ‰
5. Kubernetesãƒªã‚½ãƒ¼ã‚¹ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤
6. APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
7. è² è·ãƒ†ã‚¹ãƒˆã¨ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ç¢ºèª
8. ãƒ­ã‚°ã¨ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç¢ºèª
9. ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

---

## ğŸ¯ æ¨å¥¨å­¦ç¿’ãƒ•ãƒ­ãƒ¼

### å®Œå…¨åˆå¿ƒè€…å‘ã‘

```
1. Docker åŸºç¤ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« (30åˆ†)
   â†“
2. minikube & Kubernetes ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« (40åˆ†)
   â†“
3. Model-in-Image Pattern ãƒãƒ³ã‚ºã‚ªãƒ³ (50åˆ†)
   â†“
åˆè¨ˆ: ç´„2æ™‚é–“
```

### æ™‚é–“ãŒãªã„äººå‘ã‘ï¼ˆæœ€çŸ­ãƒ«ãƒ¼ãƒˆï¼‰

```
3. Model-in-Image Pattern ãƒãƒ³ã‚ºã‚ªãƒ³ (50åˆ†)
   â€» å¿…è¦ã«å¿œã˜ã¦1, 2ã‚’å‚ç…§
```

---

## ğŸ“‹ äº‹å‰æº–å‚™

### å¿…è¦ãªãƒ„ãƒ¼ãƒ«

ä»¥ä¸‹ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

```bash
# Docker
docker --version
# Docker version 28.5.1, build e180ab8

# minikube
/opt/homebrew/bin/minikube version
# minikube version: v1.37.0

# kubectl
/opt/homebrew/bin/kubectl version --client
# Client Version: v1.34.1
```

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•

ã¾ã ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆï¼š

```bash
# Homebrew (macOS)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Docker Desktop
brew install --cask docker

# minikube
brew install minikube

# kubectl
brew install kubectl
```

---

## ğŸ’¡ ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®é€²ã‚æ–¹

### åŸºæœ¬ãƒ«ãƒ¼ãƒ«

1. **é †ç•ªã«å®Ÿè¡Œã™ã‚‹**
   - ã‚³ãƒãƒ³ãƒ‰ã¯ä¸Šã‹ã‚‰é †ã«å®Ÿè¡Œã—ã¦ãã ã•ã„
   - å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç¢ºèªã‚¹ãƒ†ãƒƒãƒ—ã‚’å¿…ãšå®Ÿæ–½

2. **ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰**
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚ˆãèª­ã‚€
   - å„ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ã€Œãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§
   - ãã‚Œã§ã‚‚è§£æ±ºã—ãªã„å ´åˆã¯ `04_notes/09_docker_kubernetes_basics.md` ã‚’å‚ç…§

3. **ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã‚’å¿˜ã‚Œãšã«**
   - å„ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®æœ€å¾Œã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—æ‰‹é †ãŒã‚ã‚Šã¾ã™
   - ãƒªã‚½ãƒ¼ã‚¹ã‚’å‰Šé™¤ã—ãªã„ã¨æ¬¡å›ã®å­¦ç¿’ã«å½±éŸ¿ã—ã¾ã™

---

## ğŸ”§ ã‚ˆãã‚ã‚‹è³ªå•

### Q1: DockerãŒèµ·å‹•ã—ãªã„

**A**: Docker Desktopã‚’èµ·å‹•ã—ã¦ãã ã•ã„ã€‚

```bash
# macOS
open -a Docker

# ã¾ãŸã¯ GUI ã‹ã‚‰ Applications > Docker ã‚’èµ·å‹•
```

### Q2: minikubeãŒèµ·å‹•ã—ãªã„

**A**: Docker DesktopãŒèµ·å‹•ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```bash
# çŠ¶æ…‹ç¢ºèª
/opt/homebrew/bin/minikube status

# èµ·å‹•
/opt/homebrew/bin/minikube start
```

### Q3: ã‚³ãƒãƒ³ãƒ‰ãŒè¦‹ã¤ã‹ã‚‰ãªã„ (command not found)

**A**: Homebrew ã®ãƒ‘ã‚¹ãŒé€šã£ã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

```bash
# ä¸€æ™‚çš„ã«ãƒ‘ã‚¹ã‚’é€šã™
eval "$(/opt/homebrew/bin/brew shellenv)"

# ã¾ãŸã¯å®Œå…¨ãƒ‘ã‚¹ã§å®Ÿè¡Œ
/opt/homebrew/bin/minikube version
/opt/homebrew/bin/kubectl version
```

### Q4: ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’é€”ä¸­ã§ã‚„ã‚ãŸå ´åˆ

**A**: æ¬¡å›ã¯é€”ä¸­ã‹ã‚‰å†é–‹ã§ãã¾ã™ã€‚ãŸã ã—ã€ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã—ã¦ã„ãªã„å ´åˆã¯ã€ã¾ãšãƒªã‚½ãƒ¼ã‚¹ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰å†é–‹ã—ã¦ãã ã•ã„ã€‚

```bash
# Docker ã‚³ãƒ³ãƒ†ãƒŠã‚’ã™ã¹ã¦åœæ­¢ãƒ»å‰Šé™¤
docker stop $(docker ps -aq)
docker rm $(docker ps -aq)

# minikube ã‚’å‰Šé™¤ã—ã¦å†èµ·å‹•
/opt/homebrew/bin/minikube delete
/opt/homebrew/bin/minikube start
```

---

## ğŸ“ å­¦ç¿’ã®ãƒ’ãƒ³ãƒˆ

### Docker ã®ã‚³ãƒ„

- `docker ps` ã§èµ·å‹•ä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’é »ç¹ã«ç¢ºèª
- `docker logs <container>` ã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ç¿’æ…£ã‚’ã¤ã‘ã‚‹
- ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰ã¾ãš `docker logs` ã‚’è¦‹ã‚‹

### Kubernetes ã®ã‚³ãƒ„

- `kubectl get all -n <namespace>` ã§å…¨ãƒªã‚½ãƒ¼ã‚¹ã‚’ç¢ºèª
- `kubectl describe <resource> <name>` ã§è©³ç´°ã‚’ç¢ºèª
- `kubectl logs -f <pod>` ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ã‚’è¿½ã†

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [Docker å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.docker.com/)
- [Kubernetes å…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](https://kubernetes.io/ja/docs/tutorials/)
- [minikube å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://minikube.sigs.k8s.io/docs/)
- [04_notes/09_docker_kubernetes_basics.md](../../../04_notes/09_docker_kubernetes_basics.md) - Docker & Kubernetes å…¥é–€ã‚¬ã‚¤ãƒ‰

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’å®Œäº†ã—ãŸã‚‰ï¼š

1. ä»–ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è©¦ã™ï¼ˆModel-Load Pattern, Build Patternï¼‰
2. æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆAWS EKS, GCP GKE, Azure AKSï¼‰
3. CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ï¼ˆGitHub Actionsï¼‰
4. ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¨ãƒ­ã‚°é›†ç´„ï¼ˆPrometheus, Grafana, ELK Stackï¼‰

---

**ãã‚Œã§ã¯ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’å§‹ã‚ã¾ã—ã‚‡ã†ï¼ğŸ‰**

ã¾ãšã¯ [01_docker_basics.md](./01_docker_basics.md) ã‹ã‚‰å§‹ã‚ã¦ãã ã•ã„ã€‚
