# Chapter 3: Release Patterns (ãƒªãƒªãƒ¼ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³)

ãƒ¢ãƒ‡ãƒ«ã‚’ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹éš›ã®å„ç¨®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ã¶ç« 

## ğŸ¯ ã“ã®ç« ã§å­¦ã¶ã“ã¨

- å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ã‚’æœ¬ç•ªç’°å¢ƒã«ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹æ–¹æ³•
- ãƒ¢ãƒ‡ãƒ«ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°æˆ¦ç•¥
- ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã¨ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®åŸºç¤
- å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

## ğŸ“– ä»–ã®ç« ã¨ã®é•ã„

| ç«  | ç„¦ç‚¹ | ä¸»ãªãƒˆãƒ”ãƒƒã‚¯ |
|---|------|-------------|
| Chapter 2 | ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ | ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†ã€å­¦ç¿’ã€è©•ä¾¡ã€ãƒ¢ãƒ‡ãƒ«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ |
| **Chapter 3** | **ãƒ¢ãƒ‡ãƒ«ãƒªãƒªãƒ¼ã‚¹** | **Dockerã‚¤ãƒ¡ãƒ¼ã‚¸åŒ–ã€Kubernetesã€ãƒ¢ãƒ‡ãƒ«é…ä¿¡æˆ¦ç•¥** |
| Chapter 4 | æ¨è«–ã‚µãƒ¼ãƒ“ã‚¹ | APIè¨­è¨ˆã€éåŒæœŸå‡¦ç†ã€ãƒãƒƒãƒæ¨è«– |
| Chapter 5 | é‹ç”¨ | ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã€ãƒ­ã‚°ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹ |

## ğŸ“š å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§

| # | ãƒ‘ã‚¿ãƒ¼ãƒ³å | å†…å®¹ | é›£æ˜“åº¦ | çŠ¶æ…‹ |
|---|-----------|------|--------|------|
| 01 | [Model-in-Image Pattern](./01_model_in_image/) | ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã«å«ã‚ã‚‹ | â­â­ | âœ… å®Œäº† |
| 02 | Model-Load Pattern | ãƒ¢ãƒ‡ãƒ«ã‚’å¤–éƒ¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ãƒ­ãƒ¼ãƒ‰ | â­â­â­ | ğŸ“ äºˆå®š |
| 03 | Build Pattern | ãƒ¢ãƒ‡ãƒ«ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åˆ†é›¢ãƒ“ãƒ«ãƒ‰ | â­â­â­ | ğŸ“ äºˆå®š |

## ğŸ“ å­¦ç¿’ã®æ¨å¥¨é †åº

```
01_model_in_image (åŸºç¤)
    â†“
    Docker & Kubernetesã®åŸºæœ¬ã‚’ç†è§£
    â†“
02_model_load (å¿œç”¨)
    â†“
    å¤–éƒ¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨ã®é€£æºã‚’å­¦ã¶
    â†“
03_build (ç™ºå±•)
    â†“
    ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ã¨æœ€é©åŒ–
```

## ğŸ“Š å®Œäº†çŠ¶æ³

### âœ… 01_model_in_image (2025-11-06 å®Œäº†)

**å®Ÿè£…å†…å®¹**:
- Chapter 2ã®Iris SVMåˆ†é¡ãƒ¢ãƒ‡ãƒ«ï¼ˆONNXï¼‰ã‚’Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã«çµ„ã¿è¾¼ã¿
- FastAPIã«ã‚ˆã‚‹REST APIå®Ÿè£…
- Kubernetesãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆä½œæˆï¼ˆDeployment, Service, HPAï¼‰
- minikubeã¸ã®å®Ÿãƒ‡ãƒ—ãƒ­ã‚¤ã¨å‹•ä½œç¢ºèª

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**:
- Python 3.13
- FastAPI + uvicorn
- ONNX Runtime
- Docker
- Kubernetes (minikube)
- NodePort Service
- Horizontal Pod Autoscaler

**å­¦ã‚“ã ã“ã¨**:
- ãƒ¢ãƒ‡ãƒ«ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã«å«ã‚ã‚‹ã“ã¨ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚‹
- PYTHONPATHã‚’ä½¿ã£ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è§£æ±ºï¼ˆpip install -eã®ä»£æ›¿ï¼‰
- Kubernetesã®ãƒªã‚½ãƒ¼ã‚¹è¨­è¨ˆï¼ˆDeployment, Service, HPAï¼‰
- ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã¨Probeã®é‡è¦æ€§
- minikubeã§ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼é‹ç”¨

**æ¤œè¨¼çµæœ**:
- âœ… 2ã¤ã®PodãŒæ­£å¸¸ã«ç¨¼åƒ
- âœ… ã™ã¹ã¦ã®Iriså“ç¨®ï¼ˆsetosa, versicolor, virginicaï¼‰ã§æ­£ã—ã„æ¨è«–
- âœ… ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‹•ä½œç¢ºèª
- âœ… HPAã®è¨­å®šå®Œäº†ï¼ˆ2-10 replicasï¼‰

è©³ç´°ã¯ [01_model_in_image/README.md](./01_model_in_image/README.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### å­¦ç¿’ã‚¬ã‚¤ãƒ‰
- [04_notes/09_docker_kubernetes_basics.md](../../04_notes/09_docker_kubernetes_basics.md) - Docker & KubernetesåŸºç¤ã‚¬ã‚¤ãƒ‰ï¼ˆåˆå¿ƒè€…å‘ã‘ï¼‰

### ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
- [07_tutorials/01_docker_basics.md](../../07_tutorials/01_docker_basics.md) - Dockerã®åŸºç¤ï¼ˆ30åˆ†ï¼‰
- [07_tutorials/02_minikube_kubernetes.md](../../07_tutorials/02_minikube_kubernetes.md) - minikube & Kubernetesï¼ˆ40åˆ†ï¼‰
- [07_tutorials/03_model_in_image_hands_on.md](../../07_tutorials/03_model_in_image_hands_on.md) - Model-in-Image Patternãƒãƒ³ã‚ºã‚ªãƒ³ï¼ˆ50åˆ†ï¼‰

### å‚è€ƒã‚³ãƒ¼ãƒ‰
- [01_reference/chapter3_release_patterns/](../../01_reference/chapter3_release_patterns/) - å…ƒã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

## ğŸ’¡ Tips

### Docker & Kubernetesç’°å¢ƒæ§‹ç¯‰

ã“ã®ãƒãƒ£ãƒ—ã‚¿ãƒ¼ã‚’å§‹ã‚ã‚‹å‰ã«ã€ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ï¼š

```bash
# macOS
brew install --cask docker
brew install minikube kubectl

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
docker --version
minikube version
kubectl version
```

### minikubeã®åŸºæœ¬æ“ä½œ

```bash
# ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’èµ·å‹•
minikube start

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
minikube status

# ã‚µãƒ¼ãƒ“ã‚¹ä¸€è¦§
minikube service list

# ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰èµ·å‹•
minikube dashboard

# ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åœæ­¢
minikube stop

# ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å‰Šé™¤
minikube delete
```

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•ã¯ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ï¼š
- [04_notes/09_docker_kubernetes_basics.md - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](../../04_notes/09_docker_kubernetes_basics.md#%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0)

## ğŸ“š æ¬¡ã®ç« ã¸

Chapter 3ãŒå®Œäº†ã—ãŸã‚‰ã€Chapter 4: Serving Patternsã«é€²ã¿ã¾ã—ã‚‡ã†ã€‚
æ¨è«–ã‚µãƒ¼ãƒ“ã‚¹ã®è¨­è¨ˆã¨å®Ÿè£…ã«ã¤ã„ã¦å­¦ã³ã¾ã™ã€‚
